<!DOCTYPE html>

<head>
    <title>Friend Finder!</title>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery.js"></script>
</head>
<body>
    <style>
    body{
        background-color:lightblue;
    }
    select{
        color: white;
    }
    option{
        color: black;
    }
    </style>

        <div class="container">
      
          <h2>Survey Questions</h2>
          <hr>
      
          <h1>About You</h1>
          <h3>Name (Required)</h3>
          <input type="text" id="name" class="form-control" required="">
      
          <h4>Link to Photo Image (Required)</h4>
          <input type="text" id="pic" class="form-control" required="">
      
          <hr>
      
          <label>Question 1</label>
          <h5>What do you like to do for fun?</h5>
             <select id = "q1">
               <option value = "1">Play Games</option>
               <option value = "2">Go to parties</option>
               <option value = "3">Sleep</option>
               <option value = "4">Go Shopping</option>
               </select>
         <br>
      <label>Question 2</label>
      <h5>Type of music you like most?</h5>
         <select id = "q2">
           <option value = "1">Rap</option>
           <option value = "2">Country</option>
           <option value = "3">Jazz</option>
           <option value = "4">Heavy Metal</option>
           </select>
          
             <br>
      
           <label>Question 3</label>
           <h5>Is the glass half empty or half full?</h5>
              <select id = "q3">
                <option value = "1">Half Empty</option>
                <option value = "2">Half full</option>
               
                </select>
                <br>
      
      
                <label>Question 4</label>
                <h5>Have you ever built a snowman?</h5>
                   <select id = "q4">
                     <option value = "1">Yes</option>
                     <option value = "2">No</option>
                     
                     </select>

                     <br>
      
      
                     <label>Question 5</label>
                     <h5>Do you like scary movies?</h5>
                        <select id = "q5">
                          <option value = "1">Yes!</option>
                          <option value = "2">No!</option>
                        
                          </select>

                          <br>
      
      
                     <label>Question 6</label>
                     <h5>On a scale of 1-5 how nice/caring would you say you are?</h5>
                        <select id = "q6">
                          <option value = "1">1</option>
                          <option value = "2">2</option>
                          <option value = "3">3</option>
                          <option value = "4">4</option>
                          <option value = "4">5</option>
                          </select>

                          <br>
                          <label>Question 7</label>
                          <h5>On a scale of 1-5 how funny would you say you are?</h5>
                             <select id = "q7">
                                    <option value = "1">1</option>
                                    <option value = "2">2</option>
                                    <option value = "3">3</option>
                                    <option value = "4">4</option>
                                    <option value = "4">5</option>
                               </select>
     
                               <br>
                               <label>Question 8</label>
                               <h5>Would you go skydiving?</h5>
                                  <select id = "q8">
                                    <option value = "1">Yes</option>
                                    <option value = "2">No</option>
                                    </select>
          
                                    <br>
                                    <label>Question 9</label>
                                    <h5>Do you bite your nails?</h5>
                                       <select id = "q9">
                                         <option value = "1">Yes</option>
                                        <option value = "2">No</option>
                                         <option value = "3">sometimes</option>
                                         </select>

        
               
                                         <br>
                                         <label>Question 10</label>
                                         <h5>What do you think about this survey?</h5>
                                            <select id = "q10">
                                              <option value = "1">Hurry up!</option>
                                              <option value = "2">I like it</option>
                                              <option value = "3">Doesn't bother me</option>
                                              </select>
                    
                                              <br>
      
          <br>
          <button type="submit" class="btn btn-primary btn-lg btn-block" id="submit"><i class="fa fa-check-circle" aria-hidden="true"></i>
           Get Me Matched!</button>
      
          <hr>
          <footer class="footer">
            <div class="container">
              <p><a href="/api/friends">API Friends List</a> | <a href="https://github.com/nigerian21/friendfinder">GitHub Repo</a></p>
            </div>
          </footer>
      
        </div>
      
      
        <script type="text/javascript">
        //code was is being used from example site
        $("select option").each(function () {
    $(this).attr("data-label", $(this).text());
});
$("select").on("focus", function () {
    $(this).find("option").each(function () {
        $(this).text($(this).attr("data-label"));
    });
}).on("change mouseleave", function () {
    $(this).focus();
    $(this).find("option:selected").text($(this).val());
$(this).blur();

      
          for (var selector in config) {
            $(selector).chosen(config[selector]);
          }
      
          // Capture the form inputs
          $("#submit").on("click", function(event) {
            event.preventDefault();
      
            // Form validation
            function validateForm() {
              var isValid = true;
              $(".form-control").each(function() {
                if ($(this).val() === "") {
                  isValid = false;
                }
              });
      
              $(".chosen-select").each(function() {
      
                if ($(this).val() === "") {
                  isValid = false;
                }
              });
              return isValid;
            }
      
            // If all required fields are filled
            if (validateForm()) {
              // Create an object for the user"s data
              var userData = {
                name: $("#name").val(),
                photo: $("#photo").val(),
                scores: [
                  $("#q1").val(),
                  $("#q2").val(),
                  $("#q3").val(),
                  $("#q4").val(),
                  $("#q5").val(),
                  $("#q6").val(),
                  $("#q7").val(),
                  $("#q8").val(),
                  $("#q9").val(),
                  $("#q10").val()
                ]
              };
      
              // AJAX post the data to the friends API.
              $.post("/api/friends", userData, function(data) {
      
                // Grab the result from the AJAX post so that the best match's name and photo are displayed.
                $("#match-name").text(data.name);
                $("#match-img").attr("src", data.photo);
      
                // Show the modal with the best match
                $("#results-modal").modal("toggle");
      
              });
            } else {
              alert("Please fill out all fields before submitting!");
            }
          });
        </script>
      
      
      
      
      </body>